<?xml version="1.0" encoding="UTF-8"?>
<pd:ProcessDefinition xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:pfx="http://www.zain.com/ZESB/Services/QueryPACIAPIRequest.xsd" xmlns:pd="http://xmlns.tibco.com/bw/process/2003" xmlns:pfx2="http://www.zain.com/ZESB/Services/QueryPACIAPIResponse.xsd" xmlns:ns="http://www.zain.com/ZESB/Services/QueryPACIStatusBiometricsResponse.xsd" xmlns:pfx3="http://www.zain.com/ZESB/Services/QueryPACIStatusBiometricsRequest.xsd" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <xsd:import namespace="http://www.zain.com/ZESB/Services/QueryPACIAPIRequest.xsd" schemaLocation="/BusinessSchemas/Services/Query/QueryPACIAPI/QueryPACIAPIRequest.xsd"/>
    <xsd:import namespace="http://www.zain.com/ZESB/Services/QueryPACIAPIResponse.xsd" schemaLocation="/BusinessSchemas/Services/Query/QueryPACIAPI/QueryPACIAPIResponse.xsd"/>
    <pd:name>Services/SESEntServer/PACIGW/PACIServiceHandler/QueryPACIStatusImpl.process</pd:name>
    <pd:startName>Start</pd:startName>
    <pd:startType ref="pfx:QueryPACIAPIRequest"/>
    <pd:startX>85</pd:startX>
    <pd:startY>71</pd:startY>
    <pd:returnBindings>
        <pfx2:QueryPACIAPIResponse>
            <pfx2:RequestID>
                <xsl:value-of select="$QueryPACIStatusHelper/root/ns:root/ns:RequestID"/>
            </pfx2:RequestID>
            <pfx2:Status>
                <xsl:value-of select="$QueryPACIStatusHelper/root/ns:root/ns:Status"/>
            </pfx2:Status>
            <xsl:for-each select="$QueryPACIStatusHelper/root/ns:root/ns:UserInfo">
                <pfx2:UserInfo>
                    <pfx2:CivilID>
                        <xsl:value-of select="ns:CivilID"/>
                    </pfx2:CivilID>
                    <pfx2:CardExpiryDate>
                        <xsl:value-of select="ns:CardExpiryDate"/>
                    </pfx2:CardExpiryDate>
                    <pfx2:Photo>
                        <xsl:value-of select="ns:Photo"/>
                    </pfx2:Photo>
                    <pfx2:FullNameAr>
                        <xsl:value-of select="ns:FullNameAr"/>
                    </pfx2:FullNameAr>
                    <pfx2:FullNameEn>
                        <xsl:value-of select="ns:FullNameEn"/>
                    </pfx2:FullNameEn>
                    <pfx2:BirthDate>
                        <xsl:value-of select="ns:BirthDate"/>
                    </pfx2:BirthDate>
                    <pfx2:Gender>
                        <xsl:value-of select="ns:Gender"/>
                    </pfx2:Gender>
                    <pfx2:NationalityAr>
                        <xsl:value-of select="ns:NationalityAr"/>
                    </pfx2:NationalityAr>
                    <pfx2:NationalityEn>
                        <xsl:value-of select="ns:NationalityEn"/>
                    </pfx2:NationalityEn>
                    <xsl:for-each select="ns:Address">
                        <pfx2:Address>
                            <pfx2:PaciBuildingNumber>
                                <xsl:value-of select="ns:PaciBuildingNumber"/>
                            </pfx2:PaciBuildingNumber>
                            <pfx2:Governerate>
                                <xsl:value-of select="ns:Governerate"/>
                            </pfx2:Governerate>
                            <pfx2:Area>
                                <xsl:value-of select="ns:Area"/>
                            </pfx2:Area>
                            <pfx2:StreetName>
                                <xsl:value-of select="ns:StreetName"/>
                            </pfx2:StreetName>
                            <pfx2:BlockNumber>
                                <xsl:value-of select="ns:BlockNumber"/>
                            </pfx2:BlockNumber>
                            <pfx2:BuildingNumber>
                                <xsl:value-of select="ns:BuildingNumber"/>
                            </pfx2:BuildingNumber>
                            <pfx2:FloorNumber>
                                <xsl:value-of select="ns:FloorNumber"/>
                            </pfx2:FloorNumber>
                            <pfx2:UnitType>
                                <xsl:value-of select="ns:UnitType"/>
                            </pfx2:UnitType>
                            <xsl:if test="ns:UnitNumber">
                                <pfx2:UnitNumber>
                                    <xsl:value-of select="ns:UnitNumber"/>
                                </pfx2:UnitNumber>
                            </xsl:if>
                        </pfx2:Address>
                    </xsl:for-each>
                    <xsl:if test="ns:ArabicName1">
                        <pfx2:ArabicName1>
                            <xsl:value-of select="ns:ArabicName1"/>
                        </pfx2:ArabicName1>
                    </xsl:if>
                    <xsl:if test="ns:ArabicName2">
                        <pfx2:ArabicName2>
                            <xsl:value-of select="ns:ArabicName2"/>
                        </pfx2:ArabicName2>
                    </xsl:if>
                    <xsl:if test="ns:ArabicName3">
                        <pfx2:ArabicName3>
                            <xsl:value-of select="ns:ArabicName3"/>
                        </pfx2:ArabicName3>
                    </xsl:if>
                    <xsl:if test="ns:ArabicName4">
                        <pfx2:ArabicName4>
                            <xsl:value-of select="ns:ArabicName4"/>
                        </pfx2:ArabicName4>
                    </xsl:if>
                    <xsl:if test="ns:EnglishName1">
                        <pfx2:EnglishName1>
                            <xsl:value-of select="ns:EnglishName1"/>
                        </pfx2:EnglishName1>
                    </xsl:if>
                    <xsl:if test="ns:EnglishName2">
                        <pfx2:EnglishName2>
                            <xsl:value-of select="ns:EnglishName2"/>
                        </pfx2:EnglishName2>
                    </xsl:if>
                    <xsl:if test="ns:EnglishName3">
                        <pfx2:EnglishName3>
                            <xsl:value-of select="ns:EnglishName3"/>
                        </pfx2:EnglishName3>
                    </xsl:if>
                    <xsl:if test="ns:EnglishName4">
                        <pfx2:EnglishName4>
                            <xsl:value-of select="ns:EnglishName4"/>
                        </pfx2:EnglishName4>
                    </xsl:if>
                </pfx2:UserInfo>
            </xsl:for-each>
        </pfx2:QueryPACIAPIResponse>
    </pd:returnBindings>
    <pd:endName>End</pd:endName>
    <pd:endType ref="pfx2:QueryPACIAPIResponse"/>
    <pd:endX>637</pd:endX>
    <pd:endY>75</pd:endY>
    <pd:errorSchemas/>
    <pd:processVariables/>
    <pd:targetNamespace>http://xmlns.example.com/1699443298506</pd:targetNamespace>
    <pd:activity name="QueryPACIStatusHelper">
        <pd:type>com.tibco.pe.core.CallProcessActivity</pd:type>
        <pd:resourceType>ae.process.subprocess</pd:resourceType>
        <pd:x>423</pd:x>
        <pd:y>73</pd:y>
        <config>
            <processName>/Services/SESEntServer/PACIGW/QueryPACIStatus/QueryPACIStatusHelper.process</processName>
        </config>
        <pd:inputBindings>
            <group>
                <pfx3:root>
                    <pfx3:channel_name>
                        <xsl:value-of select="$Start/pfx:QueryPACIAPIRequest/pfx:channel_name"/>
                    </pfx3:channel_name>
                    <pfx3:RequestId>
                        <xsl:value-of select="$Start/pfx:QueryPACIAPIRequest/pfx:RequestId"/>
                    </pfx3:RequestId>
                </pfx3:root>
                <TrackingId>
                    <xsl:value-of select="$GUID/GUID/TransactionID"/>
                </TrackingId>
                <StartTimeStamp>
                    <xsl:value-of select="$GUID/GUID/StartTimeStamp"/>
                </StartTimeStamp>
            </group>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="GUID">
        <pd:type>com.tibco.pe.core.CallProcessActivity</pd:type>
        <pd:resourceType>ae.process.subprocess</pd:resourceType>
        <pd:x>235</pd:x>
        <pd:y>70</pd:y>
        <config>
            <processName>/CommonProcesses/Utilities/GUID.process</processName>
        </config>
        <pd:inputBindings/>
    </pd:activity>
    <pd:transition>
        <pd:from>Start</pd:from>
        <pd:to>GUID</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>QueryPACIStatusHelper</pd:from>
        <pd:to>End</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>GUID</pd:from>
        <pd:to>QueryPACIStatusHelper</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
</pd:ProcessDefinition>